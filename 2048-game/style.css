@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 240 100% 99%; /* #F8F8FF */
    --foreground: 25 57% 20%; /* Darker brown for text */
    --card: 60 56% 93%; /* #F5F5DC */
    --card-foreground: 25 57% 20%;
    --popover: 60 56% 93%;
    --popover-foreground: 25 57% 20%;
    --primary: 25 57% 38%; /* #A0522D */
    --primary-foreground: 60 56% 93%;
    --secondary: 60 30% 88%; /* Lighter beige for score boxes */
    --secondary-foreground: 25 57% 20%;
    --muted: 60 30% 88%;
    --muted-foreground: 25 57% 30%;
    --accent: 60 30% 85%;
    --accent-foreground: 25 57% 20%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 60 20% 80%;
    --input: 60 20% 80%;
    --ring: 25 57% 38%;
    --radius: 0.5rem;

    /* Game specific colors for default 'beige' theme */
    --game-board-bg: 43 33% 82%;
    --cell-bg: 42 29% 88%;
    --tile-text-light: #f5e6d3;
    --tile-text-dark: #4a3c28;
    --tile-2: #f0e5d3;
    --tile-4: #ead6b4; /* Changed */
    --tile-8: #d4c4b0;
    --tile-16: #c5b49c;
    --tile-32: #b8a68a;
    --tile-64: #ab9678;
    --tile-128: #9e8666;
    --tile-256: #917654;
    --tile-512: #846642;
    --tile-1024: #775630;
    --tile-2048: #6b4620;
    --tile-super: #441600;
    --pulse-color: 25 57% 38%;
  }

  .dark {
    --background: 240 2% 18%;
    --foreground: 60 33% 91%;
    --card: 240 2% 23%;
    --card-foreground: 60 33% 91%;
    --popover: 240 2% 23%;
    --popover-foreground: 60 33% 91%;
    --primary: 40 38% 81%;
    --primary-foreground: 240 2% 18%;
    --secondary: 240 2% 23%;
    --secondary-foreground: 60 33% 91%;
    --muted: 240 2% 23%;
    --muted-foreground: 60 33% 80%;
    --accent: 240 2% 28%;
    --accent-foreground: 60 33% 91%;
    --border: 240 2% 30%;
    --input: 240 2% 30%;
    --ring: 40 38% 81%;

    --game-board-bg: 240 2% 12%;
    --cell-bg: 240 2% 23%;
    --tile-text-light: #f9f9f9;
    --tile-text-dark: #2d2d2d;
    --tile-2: hsl(40 38% 81% / 0.8);
    --tile-4: #c9c0b1; /* Changed */
    --tile-8: #7a7a7a;
    --tile-16: #8a8a8a;
    --tile-32: #9a9a9a;
    --tile-64: #aaaaaa;
    --tile-128: #8b7355;
    --tile-256: #9d8567;
    --tile-512: #af9779;
    --tile-1024: #c1a98b;
    --tile-2048: #d3bb9d;
    --tile-super: #ffffff;
    --pulse-color: 40 38% 81%;
  }
  
  .ocean {
    --background: 175 50% 94%;
    --foreground: 187 100% 14%;
    --card: 184 75% 85%;
    --card-foreground: 187 100% 14%;
    --popover: 184 75% 85%;
    --popover-foreground: 187 100% 14%;
    --primary: 187 100% 28%;
    --primary-foreground: 175 50% 94%;
    --secondary: 184 75% 85%;
    --secondary-foreground: 187 100% 14%;
    --muted: 184 75% 85%;
    --muted-foreground: 187 100% 20%;
    --accent: 180 34% 78%;
    --accent-foreground: 187 100% 14%;
    --border: 180 34% 82%;
    --input: 180 34% 82%;
    --ring: 187 100% 28%;

    --game-board-bg: 180 50% 80%;
    --cell-bg: 180 45% 88%;
    --tile-text-light: #e0f2f1;
    --tile-text-dark: #004d40;
    --tile-2: #b2ebf2;
    --tile-4: #80deea;
    --tile-8: #4dd0e1;
    --tile-16: #26c6da;
    --tile-32: #00bcd4;
    --tile-64: #00acc1;
    --tile-128: #0097a7;
    --tile-256: #00838f;
    --tile-512: #006064;
    --tile-1024: #00796b;
    --tile-2048: #004d40;
    --tile-super: #001f15;
    --pulse-color: 187 100% 28%;
  }
  
  .forest {
    --background: 120 60% 95%;
    --foreground: 125 70% 15%;
    --card: 121 48% 85%;
    --card-foreground: 125 70% 15%;
    --popover: 121 48% 85%;
    --popover-foreground: 125 70% 15%;
    --primary: 122 39% 49%;
    --primary-foreground: 120 60% 95%;
    --secondary: 121 48% 85%;
    --secondary-foreground: 125 70% 15%;
    --muted: 121 48% 85%;
    --muted-foreground: 125 70% 25%;
    --accent: 122 30% 79%;
    --accent-foreground: 125 70% 15%;
    --border: 122 30% 83%;
    --input: 122 30% 83%;
    --ring: 122 39% 49%;
    
    --game-board-bg: 110 35% 75%;
    --cell-bg: 110 30% 85%;
    --tile-text-light: #e8f5e8;
    --tile-text-dark: #1b5e20;
    --tile-2: #c8e6c9;
    --tile-4: #a5d6a7;
    --tile-8: #81c784;
    --tile-16: #66bb6a;
    --tile-32: #4caf50;
    --tile-64: #43a047;
    --tile-128: #388e3c;
    --tile-256: #2e7d32;
    --tile-512: #1b5e20;
    --tile-1024: #2e7d32;
    --tile-2048: #388e3c;
    --tile-super: #053808;
    --pulse-color: 122 39% 49%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    overscroll-behavior: none;
  }
}

@layer components {
  .rainbow-border {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 3px;
    background: conic-gradient(from var(--angle), red, yellow, lime, aqua, blue, magenta, red);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    animation: spin 3s linear infinite;
    --angle: 0deg;
  }

  @property --angle {
    syntax: '<angle>';
    initial-value: 0deg;
    inherits: false;
  }

  @keyframes spin {
    to {
      --angle: 360deg;
    }
  }
}
